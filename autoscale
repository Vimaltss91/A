import subprocess

def post_slack_message_via_bash(token, channel, message):
    # Construct the command to run the bash script
    command = ["./post_slack_message.sh", token, channel, message]

    # Execute the bash script
    try:
        result = subprocess.run(command, check=True, text=True, capture_output=True)
        print("Bash script executed successfully.")
        print("Response:", result.stdout)
    except subprocess.CalledProcessError as e:
        print(f"Error occurred: {e.stderr}")

if __name__ == "__main__":
    slack_token = "xoxb-your-slack-bearer-token"  # Your Slack bot token
    channel_id = "#your-channel"  # Use the channel name with '#' or the channel ID
    message = "Hello, @vts, @chand! Please review this."  # Your message

    post_slack_message_via_bash(slack_token, channel_id, message)



#!/bin/bash

TOKEN="$1"
CHANNEL="$2"
MESSAGE="$3"

curl -X POST https://slack.com/api/chat.postMessage \
-H "Authorization: Bearer $TOKEN" \
-H "Content-Type: application/json" \
-d '{
    "channel": "'"$CHANNEL"'",
    "text": "'"$MESSAGE"'"
}'
