from slack_sdk import WebClient
from slack_sdk.errors import SlackApiError

def post_slack_message(channel, message, client):
    try:
        response = client.chat_postMessage(channel=channel, text=message)
        print("Message posted successfully:", response["ts"])
    except SlackApiError as e:
        print(f"Failed to post message: {e.response['error']}")

# Usage
if __name__ == "__main__":
    slack_token = "xoxb-your-slack-bearer-token"  # Your Slack bot token
    channel_id = "#your-channel"  # Use the channel name with '#' or the channel ID
    message = "Hello, Slack! This is a test message."

    # Initialize the Slack client
    client = WebClient(token=slack_token)

    # Post the message
    post_slack_message(channel_id, message, client)
