Hi Team,

We are currently experiencing multiple deployment failures:

Pre-dev Failure: The ATS deployment is failing during the fetch and package untar process. Sumera, could you please help analyze this issue?

23.4.x Patch Deployment: The deployment is failing due to an issue with nfstub. I am currently investigating this.

Upgrade Issue: Dhaval, are you able to check on this issue?

Thank you for your assistance.

GRANT ALL PRIVILEGES ON *.* TO 'username'@'remote_ip' IDENTIFIED BY 'password' WITH GRANT OPTION;
FLUSH PRIVILEGES;


import requests
import re

def format_message(message):
    # Regular expression to find mentions that start with @
    def replace_mention(match):
        username = match.group(1)
        return f"<@{username}>"

    # Replace all instances of @username with <@username>
    formatted_message = re.sub(r'@(\w+)', replace_mention, message)
    return formatted_message

def post_slack_notification(bearer_token, channel_id, message):
    url = "https://slack.com/api/chat.postMessage"
    
    headers = {
        "Authorization": f"Bearer {bearer_token}",
        "Content-Type": "application/json"
    }

    payload = {
        "channel": channel_id,
        "text": message
    }

    response = requests.post(url, headers=headers, json=payload)

    if response.status_code == 200:
        print("Message posted successfully!")
    else:
        print(f"Failed to post message: {response.status_code}, {response.text}")

if __name__ == "__main__":
    SLACK_BEARER_TOKEN = "your_bearer_token_here"
    CHANNEL_ID = "your_channel_id_here"
    
    # Example message with mentions
    MESSAGE = "@gill @miguel testing for devops or testing @chand @ping"

    # Format the message to use Slack's mention format
    formatted_message = format_message(MESSAGE)
    
    # Post the notification to Slack
    post_slack_notification(SLACK_BEARER_TOKEN, CHANNEL_ID, formatted_message)



import subprocess

def post_slack_message_via_bash(token, channel, message):
    # Construct the command to run the bash script
    command = ["./post_slack_message.sh", token, channel, message]

    # Execute the bash script
    try:
        result = subprocess.run(command, check=True, text=True, capture_output=True)
        print("Bash script executed successfully.")
        print("Response:", result.stdout)
    except subprocess.CalledProcessError as e:
        print(f"Error occurred: {e.stderr}")

if __name__ == "__main__":
    slack_token = "xoxb-your-slack-bearer-token"  # Your Slack bot token
    channel_id = "#your-channel"  # Use the channel name with '#' or the channel ID
    message = "Hello, @vts, @chand! Please review this."  # Your message

    post_slack_message_via_bash(slack_token, channel_id, message)



#!/bin/bash

TOKEN="$1"
CHANNEL="$2"
MESSAGE="$3"

curl -X POST https://slack.com/api/chat.postMessage \
-H "Authorization: Bearer $TOKEN" \
-H "Content-Type: application/json" \
-d '{
    "channel": "'"$CHANNEL"'",
    "text": "'"$MESSAGE"'"
}'
