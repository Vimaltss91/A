<td>
    <select ng-model="item.newPriority" ng-change="onPriorityChange(item.namespace, item.s_no, item.newPriority)" class="overwrite-priority-dropdown">
        <option value="Critical">Critical</option>
        <option value="VeryHigh">VeryHigh</option>
        <option value="High">High</option>
        <option value="Medium">Medium</option>
        <option value="Low">Low</option>
    </select>
</td>


// Function to overwrite priority
$scope.overwritePriority = function(namespace, s_no, newPriority) {
    // Determine whether to use namespace or s_no
    var identifier = namespace && namespace.trim() !== '' ? namespace : s_no;

    if (confirm("Are you sure you want to overwrite the priority for the identifier: " + identifier + " to " + newPriority + "?")) {
        // Show a loading indicator or disable the dropdown during the update (optional)
        var namespaceStatus = $scope.namespaceStatuses.find(ns => ns.namespace === namespace || ns.s_no === s_no);
        if (namespaceStatus) {
            namespaceStatus.updating = true;
        }

        $http.post('http://localhost:3000/myapp/api/overwrite-priority/', { namespace: identifier, priority: newPriority })
            .then(function(response) {
                alert(response.data.message); // Show alert with backend response

                $scope.getNamespaceStatuses(); // Refresh the namespace statuses after priority overwrite
            }, function(error) {
                alert("Error overwriting priority for identifier: " + identifier);
                // Revert any UI changes if there's an error
                if (namespaceStatus) {
                    namespaceStatus.updating = false;
                }
            });
    }
};
